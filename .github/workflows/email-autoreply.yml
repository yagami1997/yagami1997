name: Auto Reply to Email Requests

on:
  issues:
    types: [opened]

permissions:
  issues: write
  contents: read

jobs:
  auto-reply:
    runs-on: ubuntu-latest
    if: contains(github.event.issue.title, 'Email Request')
    steps:
      - name: Auto Reply to Email Request
        uses: peter-evans/create-or-update-comment@v3
        with:
          issue-number: ${{ github.event.issue.number }}
          body: |
            ## 🕵️‍♂️ Mission Received: Secure Communication Request 🕵️‍♀️

            Well hello there, fellow encryption enthusiast! Your request for my super-secret contact details has successfully reached my digital fortress.

            I see you've discovered my cryptographic hideout - impressive! But as any good spy knows, verification is key before exchanging classified information.

            **Your mission, should you choose to accept it:**
            Tell me a bit about why you'd like to establish this encrypted communication channel. Are we planning to discuss revolutionary open-source ideas? Trading secrets about the fifth industrial revolution? Or perhaps you just appreciate the art of properly encrypted emails in this age of digital surveillance?

            Your request is now in the secret approval queue. Once I've confirmed you're not an agent from the anti-open-source league, I'll transmit my secure communication coordinates.

            Stay encrypted, stay free! 🔐

            *This message will NOT self-destruct in 10 seconds, because that would be a waste of perfectly good bits and bytes.*

      - name: Close the issue
        uses: peter-evans/close-issue@v3
        with:
          issue-number: ${{ github.event.issue.number }}
          comment: false
