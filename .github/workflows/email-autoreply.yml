name: Auto Reply to Email Requests

on:
  issues:
    types: [opened]

permissions:
  issues: write
  contents: read

jobs:
  auto-reply:
    runs-on: ubuntu-latest
    if: contains(github.event.issue.title, 'Email Request')
    steps:
      - name: Auto Reply to Email Request
        uses: peter-evans/create-or-update-comment@v3
        with:
          issue-number: ${{ github.event.issue.number }}
          body: |
            ## 🕵️‍♂️ Mission Received: Secure Communication Request 🕵️‍♀️

            Well hello there, fellow encryption enthusiast! Your request for my super-secret contact details has successfully reached my digital fortress.

            I see you've discovered my cryptographic hideout - impressive! But as any good spy knows, verification is key before exchanging classified information.

            ### 🔐 Encrypted Communication Details 🔐

            #### 📧 Email Address:
            ```
            ${{ secrets.CONTACT_EMAIL }}
            ```

            #### 🔑 GPG Key Instructions:
            ```bash
            # Import my public key from keyserver
            gpg --keyserver hkps://keys.openpgp.org --recv-keys ${{ secrets.GPG_KEY }}

            # Verify fingerprint before sending sensitive data
            gpg --fingerprint ${{ secrets.GPG_KEY }}
            ```

            Please ensure you encrypt all communications using my public key. In this age of digital surveillance, properly encrypted messages are the only way to truly communicate freely.

            Stay encrypted, stay free! 🔐

            *This message will NOT self-destruct in 10 seconds, because that would be a waste of perfectly good bits and bytes.*

      - name: Close the issue
        uses: peter-evans/close-issue@v3
        with:
          issue-number: ${{ github.event.issue.number }}
          comment: false
